{% load static %}
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="{% static 'css/index.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"/>
    <title>Language Recommender</title>
    <meta name="viewport" content="width=device-width; initial-scale=1.0">
</head>
<nav class="navbar navbar-expand-lg navbar-light" style="background-color: #0f0f0f">
    <div class="container">
        <a class="navbar-brand text-warning" href="{% url 'home:index' %}">Bilal Madi</a>

        <div class="navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav mr-auto">
            <li class="nav-item">
              <a class="nav-link text-warning" href="{% url 'projects:index' %}">Projects</a>
            </li>
            <li class="nav-item active">
              <a class="nav-link text-warning" href="{% url 'langrec:index' %}">Langmatcher</a>
            </li>
          </ul>
        </div>
    </div>

</nav>
<html lang="en">
<body style="background-color: #151413">
    <div class="container">
        <div class="wrapper">
            <h1 class="text-warning display-4 header-text">Language Matcher</h1>

            <p class="text-warning lead instructions">Enter the languages below and use the slider to indicate the number of recommendations you want</p>
            <div class="search-input">
                <a href="" target="_blank" hidden></a>

                <input type="text" placeholder="Type to search..">

                <div class="autocom-box">
                    <!-- here list are inserted from javascript -->
                </div>
                <div class="icon"><i class="fas fa-search"></i></div>
            </div>
            <form method="get" id="lang-form">
                {% csrf_token %}
                <input type="hidden" name="languages" id="lang-input" value="">
                <input type="range" name="count" class="form-range" min="1" max="5" step="1" id="count-range" value="3">
                <button type="submit" class="btn-submit btn btn-warning">
                    <p>Get Similar Languages</p>
                </button>
            </form>
            <div id="languages"></div>
            <div class="meter-wrapper fade-in" style="opacity: 0">
                <div class="box">

                </div>
            </div>
        </div>
    </div>
        <footer>
            <p class="text-warning footer-text">
                Made with Django and Boostrap
            </p>
            <div class="disclaimer">
                <p class="text-warning">
                    NOTE: This app uses trigrams (word triplets) to determine similarities between languages. It does not account for grammar or semantics.
                </p>
            </div>
        </footer>
        <script src="{% static 'js/suggestions.js' %}"></script>
        <script src="{% static 'js/script.js' %}"></script>
        <script src={% static 'js/meter.js' %}></script>
        <script src="https://code.jquery.com/jquery-3.5.1.js"
                integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc="
                crossorigin="anonymous"></script>
        <script type="text/javascript">
            $(document).on('submit', '#lang-form', function (e) {
                e.preventDefault();
                $.ajax({
                    type: 'GET',
                    url: '{% url "langrec:recommend" %}',
                    data:
                        {
                            languages: $("#lang-input").val(),
                            count: $("#count-range").val(),
                            csrfmiddlewaretoken: $('input[name=csrfmiddlewaretoken]').val()
                        },
                    success: function (data) {
                        showRecommendations(data);
                    }
                })
                hiddenLangList.value = "";
                langList.innerHTML = "";
            });
        </script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"
                integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
                crossorigin="anonymous"></script>

</body>
</html>

